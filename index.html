<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Caf√© do Bairro ‚Äî gr√£os selecionados, sabor artesanal e o melhor atendimento da cidade."
    />
    <meta property="og:title" content="Caf√© do Bairro ‚Äî Sabor artesanal e aconchego" />
    <meta property="og:description" content="Pe√ßa online ou venha nos visitar! Experimente nossos caf√©s especiais." />
    <meta property="og:image" content="https://icaroaugusto137.github.io/cafe-do-bairro/A_high-resolution_digital_photograph_captures_the_.png" />
    <meta property="og:type" content="website" />
    <link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/924/924514.png" />
    <title>Caf√© do Bairro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "media",
        theme: {
          extend: {
            fontFamily: { sans: ["Inter", "system-ui", "sans-serif"] },
            colors: {
              cafe: {
                50: "#fff8f1",
                100: "#fbe9d7",
                200: "#f5cba5",
                300: "#edab73",
                400: "#df8945",
                500: "#c96d2d",
                600: "#a85424",
                700: "#843e1d",
                800: "#5e2c15",
                900: "#3e1e0e",
              },
            },
          },
        },
      };
    </script>
    <style>
      html {
        scroll-behavior: smooth;
      }
      .fade-in {
        animation: fadeIn 0.8s ease-in-out;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>

  <body class="bg-cafe-50 dark:bg-neutral-900 text-neutral-800 dark:text-neutral-200 font-sans antialiased">
    <!-- Cabe√ßalho -->
    <header class="fixed top-0 w-full backdrop-blur bg-white/70 dark:bg-neutral-900/70 shadow-md z-50">
      <div class="max-w-6xl mx-auto flex justify-between items-center py-4 px-6">
        <h1 class="text-2xl md:text-3xl font-bold text-cafe-700 dark:text-cafe-300 tracking-tight flex items-center gap-2">
          ‚òï <span>Caf√© do Bairro</span>
        </h1>
        <nav class="hidden md:flex gap-8 text-lg font-medium">
          <a href="#sobre" class="hover:text-cafe-600 dark:hover:text-cafe-400 transition">Sobre</a>
          <a href="#menu" class="hover:text-cafe-600 dark:hover:text-cafe-400 transition">Menu</a>
          <a href="#cadastro" class="hover:text-cafe-600 dark:hover:text-cafe-400 transition">Cadastro</a>
          <a href="#contato" class="hover:text-cafe-600 dark:hover:text-cafe-400 transition">Contato</a>
        </nav>
      </div>
    </header>

    <!-- Hero -->
    <section
      class="min-h-screen flex flex-col justify-center items-center text-center px-6 pt-24 bg-gradient-to-br from-cafe-100 to-cafe-50 dark:from-neutral-800 dark:to-neutral-900"
    >
      <img
        src="https://icaroaugusto137.github.io/cafe-do-bairro/A_high-resolution_digital_photograph_captures_the_.png"
        alt="Interior do Caf√© do Bairro"
        class="rounded-2xl shadow-2xl w-full max-w-md md:max-w-lg transform hover:scale-105 transition duration-700 ease-in-out object-cover"
      />
      <h2 class="text-4xl md:text-5xl font-extrabold mt-8 text-cafe-800 dark:text-cafe-200">
        Sabor artesanal e aconchego
      </h2>
      <p class="mt-4 text-lg md:text-xl max-w-2xl leading-relaxed text-neutral-700 dark:text-neutral-300">
        Descubra o prazer de um bom caf√© preparado com gr√£os selecionados e muito carinho.
        Pe√ßa online ou venha nos visitar!
      </p>
      <a
        href="#menu"
        class="mt-8 inline-block bg-cafe-700 hover:bg-cafe-800 text-white text-lg font-semibold py-3 px-8 rounded-full shadow-lg transform hover:-translate-y-1 transition-all duration-300"
      >
        Ver Menu
      </a>
    </section>

    <!-- Sobre -->
    <section id="sobre" class="max-w-6xl mx-auto py-20 px-6 text-center md:text-left">
      <div class="md:flex items-center gap-10">
        <div class="md:w-1/2">
          <img
            src="https://icaroaugusto137.github.io/cafe-do-bairro/A_high-resolution_digital_photograph_captures_the_.png"
            alt="Interior da cafeteria Caf√© do Bairro"
            class="rounded-xl shadow-lg"
          />
        </div>
        <div class="md:w-1/2 mt-8 md:mt-0">
          <h3 class="text-3xl font-bold text-cafe-700 dark:text-cafe-300 mb-4">Um espa√ßo feito para voc√™</h3>
          <p class="text-lg leading-relaxed">
            No Caf√© do Bairro, acreditamos que cada x√≠cara √© uma pausa merecida. Um lugar para conversar, relaxar e
            saborear o melhor caf√© artesanal, preparado por baristas apaixonados.
          </p>
        </div>
      </div>
    </section>

    <!-- Menu -->
    <section id="menu" class="bg-cafe-100 dark:bg-neutral-800 py-20 px-6 text-center">
      <h3 class="text-3xl font-bold mb-10 text-cafe-800 dark:text-cafe-200">Nosso Menu</h3>

      <div id="categorias" class="flex flex-wrap justify-center gap-4 mb-10"></div>

      <div id="menu-container" class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto"></div>

      <p id="menu-loader" class="mt-6 text-neutral-600 dark:text-neutral-300 animate-pulse">Carregando produtos...</p>
    </section>

    <!-- Cadastro -->
    <section id="cadastro" class="py-20 px-6 text-center">
      <h3 class="text-3xl font-bold mb-6 text-cafe-800 dark:text-cafe-200">Cadastre-se</h3>
      <form id="cadastroForm" class="max-w-lg mx-auto bg-white dark:bg-neutral-900 p-8 rounded-xl shadow-md space-y-4">
        <input
          type="text"
          id="nome"
          placeholder="Nome completo"
          required
          class="w-full p-3 rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent focus:outline-none focus:ring-2 focus:ring-cafe-600"
        />
        <input
          type="text"
          id="telefone"
          placeholder="Telefone"
          class="w-full p-3 rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent focus:outline-none focus:ring-2 focus:ring-cafe-600"
        />
        <input
          type="email"
          id="email"
          placeholder="E-mail"
          required
          class="w-full p-3 rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent focus:outline-none focus:ring-2 focus:ring-cafe-600"
        />
        <button
          type="submit"
          class="w-full bg-cafe-700 hover:bg-cafe-800 text-white font-semibold py-3 rounded-md transition"
        >
          Enviar Cadastro
        </button>
      </form>
      <p id="cadastroMsg" class="mt-4 text-lg"></p>
    </section>

    <!-- Contato -->
    <section id="contato" class="py-20 px-6 text-center">
      <h3 class="text-3xl font-bold mb-6 text-cafe-800 dark:text-cafe-200">Fale Conosco</h3>
      <p class="text-lg mb-8">
        Rua das Flores, 123 ‚Äî Centro, S√£o Bernardo do Campo, SP <br />
        üìû (11) 99999-1234 | ‚úâÔ∏è contato@cafedobairro.com
      </p>
      <a
        href="https://wa.me/5511999991234"
        target="_blank"
        class="inline-block bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-full transition"
      >
        Falar no WhatsApp
      </a>
    </section>

    <!-- Rodap√© -->
    <footer class="bg-cafe-800 dark:bg-neutral-950 text-white text-center py-6 mt-12">
      <p>¬© 2025 Caf√© do Bairro ‚Äî Desenvolvido com ‚ù§Ô∏è</p>
      <p class="text-sm text-cafe-200 mt-2">
        Projeto acad√™mico - UFMS | Projeto Integrador em Tecnologia da Informa√ß√£o II
      </p>
    </footer>

    <!-- Script -->
    <script>
      const API_URL = "https://cafe-do-bairro-db.onrender.com";

      async function carregarMenu() {
        const container = document.getElementById("menu-container");
        const loader = document.getElementById("menu-loader");
        const categoriasDiv = document.getElementById("categorias");

        try {
          const response = await fetch(API_URL + "/produtos");
          const produtos = await response.json();

          // Categorias √∫nicas
          const categorias = [...new Set(produtos.map((p) => Number(p.categoria_id)))];
          categoriasDiv.innerHTML =
            '<button onclick="filtrarMenu(0)" class="bg-cafe-700 hover:bg-cafe-800 text-white px-4 py-2 rounded-full">Todos</button>' +
            categorias
              .map(
                (id) =>
                  `<button onclick="filtrarMenu(${id})" class="bg-cafe-600 hover:bg-cafe-700 text-white px-4 py-2 rounded-full">${
                    id === 1 ? "Bebidas" : id === 2 ? "Sobremesas" : "Salgados"
                  }</button>`
              )
              .join("");

          loader.style.display = "none";
          renderizarMenu(produtos);
          window.produtos = produtos;
        } catch (error) {
          loader.innerText = "Erro ao carregar o menu.";
          console.error("Erro ao buscar produtos:", error);
        }
      }

      function renderizarMenu(lista) {
        const container = document.getElementById("menu-container");
        container.innerHTML = lista
          .map(
            (p) => `
          <div class="bg-white dark:bg-neutral-900 p-6 rounded-2xl shadow-md hover:shadow-2xl transition transform hover:-translate-y-1 fade-in">
            <img src="${p.imagem_url}" alt="${p.nome}" class="rounded-lg mb-4 h-48 w-full object-cover" />
            <h4 class="text-xl font-semibold mb-2">${p.nome}</h4>
            <p class="text-sm mb-2">${p.descricao}</p>
            <p class="text-lg font-bold text-cafe-700 dark:text-cafe-300">R$ ${Number(p.preco)
              .toFixed(2)
              .replace(".", ",")}</p>
          </div>`
          )
          .join("");
      }

      function filtrarMenu(id) {
        const idNum = Number(id);
        if (idNum === 0) renderizarMenu(window.produtos);
        else renderizarMenu(window.produtos.filter((p) => Number(p.categoria_id) === idNum));
      }

      document.getElementById("cadastroForm").addEventListener("submit", async (e) => {
        e.preventDefault();
        const nome = document.getElementById("nome").value;
        const telefone = document.getElementById("telefone").value;
        const email = document.getElementById("email").value;
        const msg = document.getElementById("cadastroMsg");

        try {
          const resp = await fetch(API_URL + "/clientes", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ nome, telefone, email }),
          });
          const data = await resp.json();
          if (data.ok) {
            msg.innerText = "Cadastro realizado com sucesso!";
            msg.className = "text-green-600";
            e.target.reset();
          } else {
            msg.innerText = "Erro: " + data.error;
            msg.className = "text-red-600";
          }
        } catch (error) {
          msg.innerText = "Erro ao enviar cadastro.";
          msg.className = "text-red-600";
        }
      });

      carregarMenu();
    </script>
  </body>
</html>
